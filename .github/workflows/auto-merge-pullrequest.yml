name: Auto Merge Pull Requests

# To disable automerge, simply remove this label from secrets

on:
    pull_request:
        types:
            - labeled
            - ready_for_review
            - review_request_removed
            - review_requested
            - synchronize
            - unlabeled
    workflow_dispatch:

jobs:
    automerge:
        runs-on: ubuntu-latest
        steps:
            - name: merge
              uses: squalrus/merge-bot@v0.4.5
              with:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                  reviewers: false
                  labels: ready, merge
                  blocking_labels: do not merge
                  method: squash
                  delete_source_branch: false
